# CUPCAKE Vanilla Multi-Architecture Build Configuration
# Copy this file to .env.build and customize for your build environment
# cp .env.build.example .env.build

# Registry Configuration
# Leave empty for local builds only
# Examples:
#   docker.io/yourname
#   ghcr.io/yourorg
#   registry.example.com
REGISTRY=

# Image Tag
# Default: latest
# Examples: v1.0.0, dev, staging, 2024-01-15
TAG=latest

# Target Platforms
# Default: linux/amd64,linux/arm64
# Options:
#   linux/amd64          - x86_64 (most common)
#   linux/arm64          - ARM 64-bit (Apple Silicon, Graviton)
#   linux/arm/v7         - ARM 32-bit
#   linux/amd64,linux/arm64  - Build for both (recommended)
PLATFORMS=linux/amd64,linux/arm64

# Image Names
# Customize if you want different image names
APP_IMAGE_NAME=cupcake-vanilla
TRANSCRIBE_IMAGE_NAME=cupcake-vanilla-transcribe
FRONTEND_IMAGE_NAME=cupcake-vanilla-frontend

# Dockerfile Paths (relative to project root)
APP_DOCKERFILE=dockerfiles/Dockerfile
TRANSCRIBE_DOCKERFILE=dockerfiles/Dockerfile-transcribe-worker
FRONTEND_DOCKERFILE=dockerfiles/Dockerfile-frontend

# Build Contexts (relative to project root)
APP_BUILD_CONTEXT=.
TRANSCRIBE_BUILD_CONTEXT=.
FRONTEND_BUILD_CONTEXT=../cupcake-vanilla-ng

# Buildx Configuration
# The name of the buildx builder to create/use
BUILDER_NAME=cupcake-builder

# Build Cache Configuration
# Set ENABLE_CACHE=1 to enable caching
ENABLE_CACHE=0

# Cache From (for pulling cache)
# Example: type=registry,ref=docker.io/yourname/cupcake-vanilla:buildcache
CACHE_FROM=

# Cache To (for pushing cache)
# Example: type=registry,ref=docker.io/yourname/cupcake-vanilla:buildcache,mode=max
CACHE_TO=

# Additional Build Arguments (space-separated)
# Example: PYTHON_VERSION=3.11 NODE_VERSION=20
BUILD_ARGS=
