# CUPCAKE Vanilla TURN Server Configuration
# Coturn STUN/TURN server configuration for WebRTC

# Listening port for STUN/TURN
listening-port=3478

# TLS listening port for TURNS
tls-listening-port=5349

# Listening IP address
listening-ip=0.0.0.0

# External IP address (will be auto-detected if not set)
# external-ip=YOUR_PUBLIC_IP

# Relay IP address
relay-ip=0.0.0.0

# Enable fingerprinting
fingerprint

# TURN server realm
realm=cupcake-vanilla.local

# Total quota
total-quota=100

# Per-user quota
user-quota=50

# Max bandwidth per TURN session (bytes per second)
max-bps=3000000

# Logging
verbose
log-file=/var/log/coturn/turnserver.log

# Disable UDP relay endpoints
# no-udp-relay

# Enable TCP relay endpoints
# no-tcp-relay

# Mobility with ICE
mobility

# Disable STUN functionality
# no-stun

# Disable TURN functionality
# no-turn

# Allow loopback peers
# no-loopback-peers

# Enable TURN REST API for dynamic credentials
use-auth-secret
static-auth-secret=cupcake_vanilla_turn_secret_key_change_in_production

# Disable TLS (for development - enable in production)
no-tls
no-dtls

# Allow specific ports for relay
min-port=40000
max-port=40100

# Deny access by default and allow only specified peers
# denied-peer-ip=0.0.0.0-255.255.255.255

# Allow local network addresses (for development)
# In production, restrict to your network ranges
# allowed-peer-ip=10.0.0.0-10.255.255.255
# allowed-peer-ip=172.16.0.0-172.31.255.255
# allowed-peer-ip=192.168.0.0-192.168.255.255

# CLI admin interface
# cli-ip=127.0.0.1
# cli-port=5766
# cli-password=admin_pass

# Prometheus monitoring
# prometheus

# Suppress TURN functionality for STUN BINDING requests
stun-only

# Disable RFC5780 (NAT behavior discovery)
# no-rfc5780

# Server name
server-name=cupcake-vanilla-coturn

# Process user ID/group
# proc-user=turnserver
# proc-group=turnserver
