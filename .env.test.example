# CUPCAKE Vanilla Test Environment Configuration
# Copy this file to .env.test and customize for your environment
# cp .env.test.example .env.test

# Docker Compose Configuration
COMPOSE_FILE=docker-compose.test.yml
COMPOSE_PROJECT_NAME=cupcake_vanilla_test

# Service Ports
# Change these if you have port conflicts
API_PORT=8002
DB_PORT=5433
REDIS_PORT=6380

# Database Configuration
DB_NAME=cupcake_vanilla_test_db
DB_USER=cupcake_vanilla_test
DB_PASSWORD=cupcake_vanilla_test_pass
DB_HOST=test-db

# Backup Paths
# Relative to project root or absolute paths
BACKUP_DIR=backups
DB_BACKUP_FILE=cupcake_vanilla_test_db.psql.bin
MEDIA_BACKUP_FILE=cupcake_vanilla_test_media.tar

# Container Names (short names for service references)
# These match the service names in docker-compose.test.yml
APP_CONTAINER=test-app
DB_CONTAINER=test-db
REDIS_CONTAINER=test-redis
RQ_WORKER_CONTAINER=test-rq-worker

# Full Container Names (as they appear in Docker)
# Customize these if you want different container names
TEST_DB_CONTAINER_NAME=cupcake-vanilla-test-db
TEST_APP_CONTAINER_NAME=cupcake-vanilla-test-app
TEST_REDIS_CONTAINER_NAME=cupcake-vanilla-test-redis

# Docker Resources
# Volume and network names
TEST_NETWORK_NAME=cupcake-test-net
TEST_POSTGRES_VOLUME=test-postgres-data
TEST_REDIS_VOLUME=test-redis-data
TEST_MEDIA_VOLUME=test-media

# Security
# Use a strong secret key for production-like testing
SECRET_KEY=test-secret-key-for-cupcake-vanilla-testing

# Service URLs (computed from ports above)
API_URL=http://localhost:${API_PORT}/api/v1/
ADMIN_URL=http://localhost:${API_PORT}/admin/
DB_URL=postgresql://localhost:${DB_PORT}/${DB_NAME}
REDIS_URL=redis://localhost:${REDIS_PORT}/0

# Startup Settings
STARTUP_WAIT_TIME=5           # Seconds to wait for services to start
RESTORE_TIMEOUT=300           # Maximum seconds to wait for DB restore
